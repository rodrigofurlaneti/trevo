@using Core.Extensions
@using Entidade
@using Entidade.Uteis
@using Portal.Controllers

@model ConsolidaAjusteFaturamentoViewModel

@{

    var controller = ViewContext.Controller as ConsolidaAjusteFaturamentoController;
}


<div id="conteudo" class="row margin-bottom-5">
    <div class="col-xs-12 no-padding margin-bottom-10">

        @*<div class="col-xs-12 col-sm-12">
                <div class="col-xs-4 no-padding">
                    <label>Unidade:</label>
                    <br />
                    @Html.DropDownListFor(consolida => consolida.Unidade.Id
                            , new SelectList(controller.ListaUnidade, "Id", "Nome")
                            , "Selecione uma unidade..."
                            , new { @id = "unidadeOrigem"
                                    , @class = "form-control chosen-select"
                                    , data_placeholder = "Selecione uma unidade..." })
                </div>

                <div class="col-xs-4 no-padding">
                    <label>Mês: </label>
                    <br />
                    @Html.DropDownListFor(x => x.Mes,
                   (SelectList)ViewBag.ListaMes, "Selecione um mês...",
                   new { @id = "despesaMes",
                       @class = "form-control chosen-select",
                       data_placeholder = "Selecione um mês..." })
                    @Html.ValidationMessageFor(x => x.Mes, "Campo deve ser preenchido!", new { @class = "text-danger" })

                </div>

                <div class="col-xs-4 no-padding">

                    <a id="btnConsultar" onclick="buscarDadosDespesa()" class="btn btn-lg btn-primary"><i class="fa fa-search fa-4" aria-hidden="true"></i>&nbsp;Pesquisar</a>

                </div>

            </div>*@
        @*<div class="col-xs-12 col-sm-12">
                <div class="col-xs-12">
                    &nbsp;
                </div>
                <div class="col-xs-12">
                    &nbsp;
                </div>
                <div class="col-xs-12">
                    &nbsp;
                </div>
            </div>*@

        <div class="col-xs-12 col-sm-12">
            <div id="divDespesa">
                <div class="col-lg-12 table">
                    <div class="col-xs-12">
                        <table id="tbDespesa">
                            <thead>
                                <tr>
                                    <th style="width: 20%;">Despesa Total (R$)</th>
                                    <th style="width: 20%;">Despesa Fixa (R$)</th>
                                    <th style="width: 20%;">Despesa Escolhida (R$)</th>
                                    <th style="width: 30%;">Despesa Escolhida + Fixa (R$)</th>
                                    <th style="width: 10%;">Despesa Valor Final (R$)</th>
                                </tr>
                            </thead>
                            <tbody class="dynamicInputs">

                                <tr id="linhaDespesa">
                                    <td>
                                        @Html.TextBoxFor(x => x.ConsolidaDespesa.DespesaTotal,new {
                                          @id = "DespesaTotal",
                                          @readonly = "readonly"
                                          })
                                    </td>
                                    <td>
                                        @Html.TextBoxFor(x => x.ConsolidaDespesa.DespesaFixa,new {
                                         @id = "DespesaFixa",
                                         @readonly = "readonly"
                                         })
                                    </td>
                                    <td>
                                        @Html.TextBoxFor(x => x.ConsolidaDespesa.DespesaEscolhida,new {
                                        @id= "DespesaEscolhida",
                                        @readonly = "readonly"
                                        })
                                    </td>
                                    <td>
                                        @Html.TextBoxFor(x => x.ConsolidaDespesa.DespesaEscolhidaFixa,new {
                                       @id = "DespesaEscolhidaFixa",
                                       @readonly = "readonly"
                                   })
                                    </td>
                                    <td>
                                        @Html.TextBoxFor(x => x.ConsolidaDespesa.DespesaValorFinal, new {
                                       @id = "DespesaValorFinal",
                                       @class = "form-control heightfield valmoney",
                                       @autocomplete = "off", @maxlength = "21" })
                                    </td>
                                </tr>

                            </tbody>
                        </table>
                    </div>
                </div>

            </div>
        </div>


    </div>

</div>


<div class="row margin-bottom-5">
    <div class="pull-right margin-right-15">
        <a class="btn btn-lg btn-danger" href="/consolidaajustefaturamento/index"><i class="fa fa-times"></i>&nbsp;Cancelar</a>
    </div>
    <div class="pull-right margin-right-15">
        <a id="btnEnviarDespesa" onclick="enviarDadosDespesa()" class="btn btn-lg btn-primary"><i class="fa fa-arrow-right" aria-hidden="true"></i>&nbsp;Próximo</a>
    </div>
</div>

